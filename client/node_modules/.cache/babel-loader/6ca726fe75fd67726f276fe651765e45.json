{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jacobheinrich/Desktop/GitHub/eTrackerReact/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jacobheinrich/Desktop/GitHub/eTrackerReact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/jacobheinrich/Desktop/GitHub/eTrackerReact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import ExerciseList from'../components/exerciseTable';import Navigation from'../components/navigation';import{useState,useEffect}from'react';import{useHistory}from'react-router-dom';import'../App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Home(_ref){var setExerciseToEdit=_ref.setExerciseToEdit;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),exercises=_useState2[0],setExercises=_useState2[1];var history=useHistory();var onDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var response,getResponse,_exercises;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://etracker2022.herokuapp.com/exercises/\".concat(id,\"/\"),{method:'DELETE'});case 2:response=_context.sent;if(!(response.status===204)){_context.next=13;break;}_context.next=6;return fetch('https://etracker2022.herokuapp.com/exercises/');case 6:getResponse=_context.sent;_context.next=9;return getResponse.json();case 9:_exercises=_context.sent;setExercises(_exercises);_context.next=14;break;case 13:console.error('Failed to delete movie');case 14:case\"end\":return _context.stop();}}},_callee);}));return function onDelete(_x){return _ref2.apply(this,arguments);};}();var onEdit=function onEdit(editExercise){setExerciseToEdit(editExercise);history.push('/edit');};var loadExercises=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,exercises;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('https://etracker2022.herokuapp.com/exercises/');case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:exercises=_context2.sent;setExercises(exercises);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function loadExercises(){return _ref3.apply(this,arguments);};}();useEffect(function(){loadExercises();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navigation,{className:\"nav\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"intro\",children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"assignmentDescribe\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"proj\",children:\"Full Stack MERN APP\"}),/*#__PURE__*/_jsx(\"p\",{className:\"projParagraph\",children:\"Single Page application that tracks exercises completed by the user. React was used for the front-end UI app and a REST API was written using Node and Express for the back-end web service. MongoDB was used for persistence.\"})]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"header\",children:\"Exercise Tracker\"}),/*#__PURE__*/_jsx(ExerciseList,{exercises:exercises,onDelete:onDelete,onEdit:onEdit})]})]});}export default Home;","map":{"version":3,"names":["React","ExerciseList","Navigation","useState","useEffect","useHistory","Home","setExerciseToEdit","exercises","setExercises","history","onDelete","id","fetch","method","response","status","getResponse","json","console","error","onEdit","editExercise","push","loadExercises"],"sources":["/Users/jacobheinrich/Desktop/GitHub/eTrackerReact/src/pages/home.js"],"sourcesContent":["import React from 'react';\nimport ExerciseList from '../components/exerciseTable';\nimport Navigation from '../components/navigation';\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport '../App.css';\n\n\nfunction Home({setExerciseToEdit}) {\n  const [exercises,setExercises] = useState([]);\n  const history = useHistory();\n\n  const onDelete = async id => {\n    const response = await fetch(`https://etracker2022.herokuapp.com/exercises/${id}/`, {\n      method: 'DELETE'\n    });\n    if(response.status === 204){\n      const getResponse = await fetch('https://etracker2022.herokuapp.com/exercises/');\n      const exercises = await getResponse.json();\n      setExercises(exercises);\n    }else{\n      console.error('Failed to delete movie')\n    }\n  }\n\n  const onEdit = editExercise => {\n      setExerciseToEdit(editExercise);\n      history.push('/edit');\n  }\n\n  const loadExercises = async () => {\n    const response = await fetch('https://etracker2022.herokuapp.com/exercises/');\n    const exercises = await response.json();\n    setExercises(exercises);\n}\n\nuseEffect(() => {\n    loadExercises();\n}, []);\n  return(\n    <>\n    <Navigation className=\"nav\"/>\n    <div className=\"intro\">\n    <header>\n    <div className=\"assignmentDescribe\">\n    <h1 className=\"proj\">Full Stack MERN APP</h1>\n    <p className=\"projParagraph\">\n    Single Page application that tracks exercises completed by the\n    user. React was used for the front-end UI app and a REST API was\n    written using Node and Express for the back-end web service. MongoDB\n    was used for persistence.\n    </p>\n    </div>\n    </header>\n    <h1 className=\"header\">Exercise Tracker</h1>\n    <ExerciseList exercises = {exercises} onDelete = { onDelete } onEdit = {onEdit}></ExerciseList>\n    </div>\n    </>\n  )\n}\n\nexport default Home;\n"],"mappings":"qaAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,aAAP,KAAyB,6BAAzB,CACA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,YAAP,C,6IAGA,QAASC,KAAT,MAAmC,IAApBC,kBAAoB,MAApBA,iBAAoB,CACjC,cAAiCJ,QAAQ,CAAC,EAAD,CAAzC,wCAAOK,SAAP,eAAiBC,YAAjB,eACA,GAAMC,QAAO,CAAGL,UAAU,EAA1B,CAEA,GAAMM,SAAQ,6FAAG,iBAAMC,EAAN,8KACQC,MAAK,wDAAiDD,EAAjD,MAAwD,CAClFE,MAAM,CAAE,QAD0E,CAAxD,CADb,QACTC,QADS,oBAIZA,QAAQ,CAACC,MAAT,GAAoB,GAJR,iDAKaH,MAAK,CAAC,+CAAD,CALlB,QAKPI,WALO,qCAMWA,YAAW,CAACC,IAAZ,EANX,QAMPV,UANO,eAObC,YAAY,CAACD,UAAD,CAAZ,CAPa,+BASbW,OAAO,CAACC,KAAR,CAAc,wBAAd,EATa,uDAAH,kBAART,SAAQ,6CAAd,CAaA,GAAMU,OAAM,CAAG,QAATA,OAAS,CAAAC,YAAY,CAAI,CAC3Bf,iBAAiB,CAACe,YAAD,CAAjB,CACAZ,OAAO,CAACa,IAAR,CAAa,OAAb,EACH,CAHD,CAKA,GAAMC,cAAa,6FAAG,wLACGX,MAAK,CAAC,+CAAD,CADR,QACdE,QADc,uCAEIA,SAAQ,CAACG,IAAT,EAFJ,QAEdV,SAFc,gBAGpBC,YAAY,CAACD,SAAD,CAAZ,CAHoB,wDAAH,kBAAbgB,cAAa,2CAAnB,CAMFpB,SAAS,CAAC,UAAM,CACZoB,aAAa,GAChB,CAFQ,CAEN,EAFM,CAAT,CAGE,mBACE,wCACA,KAAC,UAAD,EAAY,SAAS,CAAC,KAAtB,EADA,cAEA,aAAK,SAAS,CAAC,OAAf,wBACA,qCACA,aAAK,SAAS,CAAC,oBAAf,wBACA,WAAI,SAAS,CAAC,MAAd,iCADA,cAEA,UAAG,SAAS,CAAC,eAAb,4OAFA,GADA,EADA,cAYA,WAAI,SAAS,CAAC,QAAd,8BAZA,cAaA,KAAC,YAAD,EAAc,SAAS,CAAIhB,SAA3B,CAAsC,QAAQ,CAAKG,QAAnD,CAA8D,MAAM,CAAIU,MAAxE,EAbA,GAFA,GADF,CAoBD,CAED,cAAef,KAAf"},"metadata":{},"sourceType":"module"}